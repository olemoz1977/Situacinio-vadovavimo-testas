<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Situacinio Vadovavimo Ekspertinė Sistema</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #27ae60;
            --danger: #e74c3c;
            --light: #ecf0f1;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f4f7f6;
            color: var(--primary);
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header { text-align: center; margin-bottom: 40px; border-bottom: 3px solid var(--accent); padding-bottom: 20px; }

        .question-card {
            background: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            transition: 0.3s;
        }

        .question-card.active { border-left: 5px solid var(--accent); background: #f9f9f9; }

        .options label {
            display: block;
            padding: 12px;
            margin: 8px 0;
            border: 1px solid #eee;
            border-radius: 6px;
            cursor: pointer;
        }

        .options label:hover { background: #eef2f3; }
        
        input[type="radio"] { margin-right: 10px; }

        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn-primary { background: var(--accent); color: white; margin-top: 20px; }
        .btn-pdf { background: var(--success); color: white; margin-top: 20px; display: none; }

        #appendix-section, #results-section { display: none; }

        .score-box { text-align: center; padding: 20px; background: var(--light); border-radius: 10px; margin-bottom: 20px; }
        
        .badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            color: white;
        }

        @media print {
            .btn, .header p { display: none; }
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="main-test-section">
        <div class="header">
            <h1>Situacinio Vadovavimo Diagnostika</h1>
            <p>I pakopa: 20 bazinių situacijų jūsų stiliui nustatyti</p>
        </div>
        <div id="main-questions"></div>
        <button class="btn btn-primary" onclick="processMainTest()">Tęsti į II pakopą (Appendix)</button>
    </div>

    <div id="appendix-section">
        <div class="header">
            <h1>Appendix: Streso Testas</h1>
            <p>II pakopa: Patikriname, ar jūsų tendencija yra lanksti, ar ribota.</p>
        </div>
        <div id="appendix-questions"></div>
        <button class="btn btn-primary" onclick="processFinalResults()">Gauti galutinę analizę</button>
    </div>

    <div id="results-section">
        <div class="header">
            <h1>Galutinė Vadovavimo Ataskaita</h1>
        </div>
        <div id="final-content"></div>
        <button class="btn btn-pdf" id="pdf-btn" onclick="window.print()">Išsaugoti PDF / Spausdinti</button>
        <button class="btn btn-primary" style="background: #95a5a6;" onclick="location.reload()">Atlikti testą iš naujo</button>
    </div>
</div>
<script>
    const questions = [
    {
        id: 1,
        text: "Jūsų skyriuje dirba naujas darbuotojas. Jis labai entuziastingas, bet neturi reikiamos patirties užduočiai atlikti.",
        options: [
            { text: "Tiksliai nurodyti, ką ir kaip daryti, bei atidžiai stebėti progresą.", style: "S1 Nukreipimo", weight: 4 },
            { text: "Paaiškinti užduoties svarbą, padrąsinti ir suteikti instrukcijas.", style: "S2 Įtikinimo", weight: 2 },
            { text: "Leisti jam pačiam rasti būdus užduočiai atlikti.", style: "S4 Delegavimo", weight: 0 },
            { text: "Aptarti, kaip jis norėtų dirbti, ir palaikyti jo entuziazmą.", style: "S3 Dalyvavimo", weight: 1 }
        ]
    },
    {
        id: 2,
        text: "Patyręs darbuotojas gavo naują, jam nepažįstamą projektą. Jis jaučiasi šiek tiek neužtikrintas dėl savo gebėjimų šioje srityje.",
        options: [
            { text: "Paskirti užduotį ir nesikišti, nes jis yra profesionalas.", style: "S4 Delegavimo", weight: 1 },
            { text: "Detaliai paaiškinti naują sritį, nukreipti ir kartu motyvuoti.", style: "S2 Įtikinimo", weight: 4 },
            { text: "Griežtai kontroliuoti kiekvieną jo žingsnį.", style: "S1 Nukreipimo", weight: 2 },
            { text: "Išklausyti jo būgštavimus ir pasiūlyti paramą, bet sprendimus palikti jam.", style: "S3 Dalyvavimo", weight: 3 }
        ]
    },
    {
        id: 3,
        text: "Grupė specialistų dirba puikiai, tačiau pastaruoju metu kyla ginčų dėl vidinių darbo taisyklių.",
        options: [
            { text: "Nustatyti naujas taisykles ir reikalauti jų laikytis.", style: "S1 Nukreipimo", weight: 1 },
            { text: "Leisti grupei pačiai išspręsti savo konfliktus.", style: "S4 Delegavimo", weight: 2 },
            { text: "Sušaukti susirinkimą ir kartu su komanda parengti taisykles.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Pabrėžti taisyklių naudą ir pasiūlyti savo viziją.", style: "S2 Įtikinimo", weight: 3 }
        ]
    },
    {
        id: 4,
        text: "Darbuotojas, kuris visada dirbo puikiai, pastaruoju metu pradėjo vėluoti su terminais ir atrodo demotyvuotas.",
        options: [
            { text: "Priminti jam apie darbo drausmę ir terminus.", style: "S1 Nukreipimo", weight: 0 },
            { text: "Atvirai pasikalbėti, išklausyti ir kartu ieškoti sprendimų.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Suteikti jam daugiau laisvės ir tikėtis, kad jis susitvarkys.", style: "S4 Delegavimo", weight: 1 },
            { text: "Padrąsinti jį ir aiškiau apibrėžti tikslus.", style: "S2 Įtikinimo", weight: 2 }
        ]
    },
    {
        id: 5,
        text: "Jūsų komanda sėkmingai užbaigė etapą. Dabar laukia kitas, labai panašus etapas, kuriame jie turi visus įgūdžius.",
        options: [
            { text: "Leisti komandai savarankiškai tęsti darbą.", style: "S4 Delegavimo", weight: 4 },
            { text: "Vėl detaliai paaiškinti instrukcijas.", style: "S1 Nukreipimo", weight: 0 },
            { text: "Palaikyti ryšį ir pasidžiaugti sėkme kartu su jais.", style: "S3 Dalyvavimo", weight: 3 },
            { text: "Motyvuoti juos dar didesniems iššūkiams.", style: "S2 Įtikinimo", weight: 2 }
        ]
    },
    {
        id: 6,
        text: "Naujai suformuota komanda dar nežino savo tikslų, nors nariai yra labai kompetentingi atskirai.",
        options: [
            { text: "Leisti jiems patiems susiorganizuoti procesą.", style: "S4 Delegavimo", weight: 1 },
            { text: "Tiksliai įvardyti tikslus ir nustatyti darbo tvarką.", style: "S1 Nukreipimo", weight: 4 },
            { text: "Pasiūlyti viziją ir paprašyti jų nuomonės dėl jos.", style: "S2 Įtikinimo", weight: 3 },
            { text: "Organizuoti diskusiją, kad jie patys susikurtų tikslus.", style: "S3 Dalyvavimo", weight: 2 }
        ]
    },
    {
        id: 7,
        text: "Pastebite, kad jūsų asistentas atlieka užduotis gerai, bet visada laukia jūsų patvirtinimo prieš baigdamas.",
        options: [
            { text: "Nurodyti jam būti drąsesniam.", style: "S1 Nukreipimo", weight: 1 },
            { text: "Aptarti, kodėl jis jaučia abejonę, ir paskatinti savarankiškumą.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Pradėti deleguoti užduotis be galutinio patvirtinimo poreikio.", style: "S4 Delegavimo", weight: 3 },
            { text: "Pagyvinti jo pasitikėjimą aiškinant, ką jis daro teisingai.", style: "S2 Įtikinimo", weight: 2 }
        ]
    },
    {
        id: 8,
        text: "Dėl organizacijos pokyčių komandos moralė krito, nors darbas vis dar atliekamas laiku.",
        options: [
            { text: "Sutelkti dėmesį į tarpusavio santykius ir išklausyti darbuotojų baimes.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Paskelbti, kad rezultatai yra prioritetas ir pokyčiai neišvengiami.", style: "S1 Nukreipimo", weight: 0 },
            { text: "Paaiškinti pokyčių naudą ir bandyti įkvėpti komandą.", style: "S2 Įtikinimo", weight: 3 },
            { text: "Nesikišti, kol darbas yra atliekamas.", style: "S4 Delegavimo", weight: 1 }
        ]
    },
    {
        id: 9,
        text: "Komandos narys nori imtis papildomos atsakomybės, bet jam trūksta specifinių techninių žinių.",
        options: [
            { text: "Leisti jam bandyti ir mokytis iš savo klaidų.", style: "S4 Delegavimo", weight: 1 },
            { text: "Apmokyti jį ir kartu aptarti, kaip jam sekasi taikyti žinias.", style: "S2 Įtikinimo", weight: 4 },
            { text: "Duoti jam instrukcijas ir kontroliuoti rezultatą.", style: "S1 Nukreipimo", weight: 2 },
            { text: "Pasiūlyti jam mentorių iš kolegų tarpo ir palaikyti emociškai.", style: "S3 Dalyvavimo", weight: 3 }
        ]
    },
    {
        id: 10,
        text: "Patyręs darbuotojas padarė rimtą klaidą. Jis dėl to labai išgyvena.",
        options: [
            { text: "Nurodyti jam, kaip ištaisyti klaidą, ir stebėti procesą.", style: "S1 Nukreipimo", weight: 1 },
            { text: "Pasikalbėti, nuraminti ir leisti jam pačiam rasti sprendimą.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Pasakyti, kad klaidų pasitaiko visiems, ir palikti jį dirbti.", style: "S4 Delegavimo", weight: 2 },
            { text: "Išanalizuoti klaidą kartu ir paaiškinti, kaip jos išvengti ateityje.", style: "S2 Įtikinimo", weight: 3 }
        ]
    },
    {
        id: 11,
        text: "Jums reikia paskirti žmogų skubiai užduočiai. Turite darbuotoją, kuris yra kompetentingas, bet linkęs abejoti savimi.",
        options: [
            { text: "Nurodyti jam tiksliai, ką daryti, kad jis nesijaudintų.", style: "S1 Nukreipimo", weight: 2 },
            { text: "Paskirti užduotį ir pasakyti, kad pasitikite juo 100%.", style: "S4 Delegavimo", weight: 2 },
            { text: "Kartu aptarti užduotį ir padrąsinti jį viso proceso metu.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Pabrėžti užduoties svarbą ir duoti aiškias gaires.", style: "S2 Įtikinimo", weight: 3 }
        ]
    },
    {
        id: 12,
        text: "Komanda pasiekė puikių rezultatų. Jie tapo labai savarankiški ir iniciatyvūs.",
        options: [
            { text: "Sumažinti savo kontrolę ir leisti jiems veikti patiems.", style: "S4 Delegavimo", weight: 4 },
            { text: "Toliau dalyvauti visuose susirinkimuose ir prižiūrėti eigą.", style: "S3 Dalyvavimo", weight: 2 },
            { text: "Nustatyti naujus, dar griežtesnius tikslus.", style: "S1 Nukreipimo", weight: 0 },
            { text: "Pagyvinti jų sėkmę ir siūlyti naujas idėjas.", style: "S2 Įtikinimo", weight: 1 }
        ]
    },
    {
        id: 13,
        text: "Pastebite, kad naujas projektas stringa, nes darbuotojai nesutaria dėl atsakomybių pasiskirstymo.",
        options: [
            { text: "Leisti jiems patiems išsiaiškinti vaidmenis.", style: "S4 Delegavimo", weight: 1 },
            { text: "Sušaukti susirinkimą ir nurodyti, kas už ką atsakingas.", style: "S1 Nukreipimo", weight: 4 },
            { text: "Išklausyti visų nuomones ir padėti jiems susitarti.", style: "S3 Dalyvavimo", weight: 3 },
            { text: "Paaiškinti atsakomybių svarbą ir pasiūlyti savo planą.", style: "S2 Įtikinimo", weight: 2 }
        ]
    },
    {
        id: 14,
        text: "Darbuotojas vėl ir vėl klausia tų pačių dalykų apie paprastą užduotį.",
        options: [
            { text: "Dar kartą kantriai paaiškinti ir paprašyti užsirašyti instrukciją.", style: "S1 Nukreipimo", weight: 4 },
            { text: "Paklausti, kas jam trukdo suprasti, ir palaikyti jį.", style: "S3 Dalyvavimo", weight: 2 },
            { text: "Nusiųsti jį pas kolegą, kad šis jį apmokytų.", style: "S2 Įtikinimo", weight: 3 },
            { text: "Pasakyti, kad jis turėtų būti savarankiškesnis.", style: "S4 Delegavimo", weight: 0 }
        ]
    },
    {
        id: 15,
        text: "Jūsų geriausias specialistas pradėjo rodyti nepasitenkinimą dėl per didelio jūsų dėmesio jo darbui.",
        options: [
            { text: "Paaiškinti, kad kontrolė reikalinga bendram tikslui.", style: "S2 Įtikinimo", weight: 1 },
            { text: "Atsitraukti ir suteikti jam daugiau autonomijos.", style: "S4 Delegavimo", weight: 4 },
            { text: "Aptarti su juo, kokio lygio palaikymo jam iš tikrųjų reikia.", style: "S3 Dalyvavimo", weight: 3 },
            { text: "Griežtai nustatyti atsiskaitymo tvarką.", style: "S1 Nukreipimo", weight: 0 }
        ]
    },
    {
        id: 16,
        text: "Komanda susidūrė su nenumatyta kliūtimi. Jie jaučiasi pasimetę ir laukia jūsų sprendimo.",
        options: [
            { text: "Priimti sprendimą ir duoti komandai nurodymus, kaip veikti.", style: "S1 Nukreipimo", weight: 4 },
            { text: "Paklausti komandos nuomonės ir kartu rasti išeitį.", style: "S3 Dalyvavimo", weight: 3 },
            { text: "Paaiškinti situaciją ir motyvuoti juos rasti sprendimą patiems.", style: "S2 Įtikinimo", weight: 3 },
            { text: "Palikti juos rasti išeitį, nes jie yra savo srities specialistai.", style: "S4 Delegavimo", weight: 1 }
        ]
    },
    {
        id: 17,
        text: "Jaunas darbuotojas atliko užduotį vidutiniškai, bet labai stengėsi.",
        options: [
            { text: "Pagyvinti už pastangas ir parodyti, kaip kitą kartą padaryti geriau.", style: "S2 Įtikinimo", weight: 4 },
            { text: "Tiksliai nurodyti klaidas ir liepti pataisyti.", style: "S1 Nukreipimo", weight: 2 },
            { text: "Aptarti su juo, kaip jis pats vertina rezultatą.", style: "S3 Dalyvavimo", weight: 3 },
            { text: "Priimti darbą toks, koks yra, kad nenumotyvuotumėte.", style: "S4 Delegavimo", weight: 1 }
        ]
    },
    {
        id: 18,
        text: "Darbuotojas yra ekspertas, bet jis nemėgsta prisiimti atsakomybės už sprendimus.",
        options: [
            { text: "Versti jį priimti sprendimus.", style: "S1 Nukreipimo", weight: 1 },
            { text: "Padrąsinti jį, aptarti jo abejones ir būti šalia priimant sprendimą.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Paaiškinti atsakomybės naudą jo karjerai.", style: "S2 Įtikinimo", weight: 2 },
            { text: "Deleguoti jam projektą ir pasakyti, kad pasitikite jo galutiniu sprendimu.", style: "S4 Delegavimo", weight: 3 }
        ]
    },
    {
        id: 19,
        text: "Įdiegiama nauja technologija. Visi darbuotojai yra patyrę, bet skeptiški naujovės atžvilgiu.",
        options: [
            { text: "Nurodyti visiems privalomai naudotis nauja sistema.", style: "S1 Nukreipimo", weight: 1 },
            { text: "Pristatyti sistemos naudą, išklausyti jų abejones ir įtraukti į mokymus.", style: "S2 Įtikinimo", weight: 4 },
            { text: "Leisti jiems patiems nuspręsti, kada pereiti prie naujos sistemos.", style: "S4 Delegavimo", weight: 1 },
            { text: "Organizuoti diskusiją apie tai, kaip ši sistema pakeis jų kasdienybę.", style: "S3 Dalyvavimo", weight: 3 }
        ]
    },
    {
        id: 20,
        text: "Pastebite, kad komanda dirba efektyviai, bet trūksta kūrybiškumo ir naujų idėjų.",
        options: [
            { text: "Nurodyti kiekvienam pateikti po vieną naują idėją per savaitę.", style: "S1 Nukreipimo", weight: 1 },
            { text: "Sukurti saugią aplinką idėjų generavimui ir dalyvauti procese kaip lygiaverčiam nariui.", style: "S3 Dalyvavimo", weight: 4 },
            { text: "Paskatinti juos ieškoti naujovių ir suteikti tam laiko bei resursų.", style: "S4 Delegavimo", weight: 3 },
            { text: "Uždegti juos vizija apie inovacijų svarbą.", style: "S2 Įtikinimo", weight: 2 }
        ]
    }
];

// APPENDIX: 3 "Streso" klausimai
    const appendixQuestions = [
        { id: 'a1', text: "KRIZĖ: Serveriai lūžta, duomenys dingsta. Naujokas IT specialistas sustingęs laukia.", options: [
            { text: "Klausti jo nuomonės dėl sprendimo.", s: "S3", w: 0 },
            { text: "Įsakyti konkrečius žingsnius nedelsiant.", s: "S1", w: 4 },
            { text: "Padrąsinti, kad jis viską moka.", s: "S4", w: 1 }
        ]},
        { id: 'a2', text: "EKSPERTAS: Jūsų geriausias darbuotojas dvejus metus viršija tikslus. Pavedate jam naują strateginį projektą.", options: [
            { text: "Pasakyti: 'Projektas tavo, sėkmės, informuok jei reikės ko nors'.", s: "S4", w: 4 },
            { text: "Aptarti kartu kiekvieną plano detalę.", s: "S3", w: 1 },
            { text: "Nustatyti griežtus tarpinius atsiskaitymus.", s: "S1", w: 0 }
        ]},
        { id: 'a3', text: "SAUGUMAS: Komanda ignoruoja saugumo taisykles dėl greičio. Tai pavojinga.", options: [
            { text: "Diskutuoti, kaip padaryti taisykles patogesnes.", s: "S3", w: 1 },
            { text: "Griežtai uždrausti pažeidimus ir įvesti nuobaudas.", s: "S1", w: 4 },
            { text: "Tikėtis, kad jie patys susipras.", s: "S4", w: 0 }
        ]}
    ];

    let mainResults = {};
    let appendixResults = {};

    function renderQuestions(data, containerId, prefix) {
        const container = document.getElementById(containerId);
        container.innerHTML = data.map((q, idx) => `
            <div class="question-card">
                <strong>${idx + 1}. ${q.text}</strong>
                <div class="options">
                    ${q.options.map((opt, i) => `
                        <label><input type="radio" name="${prefix}${q.id}" value="${i}"> ${opt.text}</label>
                    `).join('')}
                </div>
            </div>
        `).join('');
    }

    function processMainTest() {
        const inputs = document.querySelectorAll('#main-questions input:checked');
        if (inputs.length < mainQuestions.length) { alert("Atsakykite į visus klausimus!"); return; }
        
        mainQuestions.forEach(q => {
            const idx = document.querySelector(`input[name="m${q.id}"]:checked`).value;
            const opt = q.options[idx];
            mainResults[opt.s] = (mainResults[opt.s] || 0) + 1;
        });

        document.getElementById('main-test-section').style.display = 'none';
        document.getElementById('appendix-section').style.display = 'block';
        renderQuestions(appendixQuestions, 'appendix-questions', 'a');
        window.scrollTo(0,0);
    }

    function processFinalResults() {
        const inputs = document.querySelectorAll('#appendix-questions input:checked');
        if (inputs.length < appendixQuestions.length) { alert("Atsakykite į visus klausimus!"); return; }

        let appendixScore = 0;
        appendixQuestions.forEach(q => {
            const idx = document.querySelector(`input[name="a${q.id}"]:checked`).value;
            appendixScore += q.options[idx].w;
        });

        showFinalReport(appendixScore);
    }

    function showFinalReport(appScore) {
        document.getElementById('appendix-section').style.display = 'none';
        document.getElementById('results-section').style.display = 'block';
        document.getElementById('pdf-btn').style.display = 'block';

        const domStyle = Object.keys(mainResults).reduce((a, b) => mainResults[a] > mainResults[b] ? a : b);
        const isFlexible = appScore >= 8;

        let analysis = `
            <div class="score-box">
                <h2>Vadovavimo Integruotas Vertinimas</h2>
                <p>Dominuojantis stilius: <strong>${domStyle}</strong></p>
                <p>Lankstumo patikra: <span class="badge" style="background:${isFlexible ? '#27ae60':'#e74c3c'}">
                    ${isFlexible ? 'PATVIRTINTA (Lankstus)' : 'RIBOTA TENDENCIJA'}
                </span></p>
            </div>
            
            <h3>Interpretacija:</h3>
            <p>${generateInterpretation(domStyle, isFlexible)}</p>
            
            <div style="margin-top:20px; padding:15px; background:#f9f9f9; border-radius:10px;">
                <strong>Rekomendacijos:</strong>
                <ul>
                    ${isFlexible ? 
                        '<li>Išlaikykite šį budrumą. Jūsų gebėjimas perjungti S1 ir S4 režimus krizės ar visiško pasitikėjimo metu yra jūsų stiprybė.</li>' : 
                        '<li>Dėmesio: Jūsų tendencija į ' + domStyle + ' yra per stipri. Mokykitės griežtumo (S1) krizėse ir visiško atsitraukimo (S4) su ekspertais.</li>'}
                    <li>S3 (Dalyvavimas) yra puikus kasdienybei, bet netinkamas gaisrams gesinti.</li>
                </ul>
            </div>
        `;

        document.getElementById('final-content').innerHTML = analysis;
    }

    function generateInterpretation(style, flexible) {
        if (style === 'S3' && flexible) return "Jūs esate 'Empatiškas Profesionalas'. Nors kasdienybėje renkatės diskusiją, streso testas parodė, kad prireikus gebate būti kietas lyderis.";
        if (style === 'S3' && !flexible) return "Jūs esate 'Demokratijos Įkaitas'. Linkstate tartis net ten, kur reikia greitų sprendimų ar visiško delegavimo. Tai didina jūsų nuovargį.";
        return "Jūsų stilius yra subalansuotas, tačiau stebėkite savo reakcijas į ekstremalias situacijas.";
    }

    renderQuestions(mainQuestions, 'main-questions', 'm');
</script>

</body>
</html>
